<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-components/api-boot-mybatis-enhance">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">MyBatis增强扩展封装组件 | ApiBoot</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://apiboot2.minbox.org/docs/components/api-boot-mybatis-enhance"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MyBatis增强扩展封装组件 | ApiBoot"><meta data-rh="true" name="description" content="ApiBoot Mybatis Enhance是一款数据持久化、动态查询结构化框架，用户操作单表、多表关联的数据，在Mybatis的基础上进行封装扩展，"><meta data-rh="true" property="og:description" content="ApiBoot Mybatis Enhance是一款数据持久化、动态查询结构化框架，用户操作单表、多表关联的数据，在Mybatis的基础上进行封装扩展，"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://apiboot2.minbox.org/docs/components/api-boot-mybatis-enhance"><link data-rh="true" rel="alternate" href="https://apiboot2.minbox.org/docs/components/api-boot-mybatis-enhance" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://apiboot2.minbox.org/docs/components/api-boot-mybatis-enhance" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ApiBoot RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ApiBoot Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-149679255-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><link rel="stylesheet" href="/assets/css/styles.e0d55a48.css">
<link rel="preload" href="/assets/js/runtime~main.8323ae22.js" as="script">
<link rel="preload" href="/assets/js/main.505abf66.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/apiboot-colorful.png" alt="ApiBoot" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/apiboot-colorful.png" alt="ApiBoot" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/out-box/quick-start">使用文档</a><a class="navbar__item navbar__link" href="/blog">文章教程</a><a href="https://blog.minbox.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">作者博客<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/minbox-projects/api-boot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/introduce/what-is-apiboot">ApiBoot是什么？</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/out-box/quick-start">开箱即用</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/组件库">组件库</a><button aria-label="打开/收起侧边栏菜单「组件库」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-garce">Grace业务操作日志组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-message-pipe">MessagePipe分布式消息管道组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-ssh-agent">SSH安全通道端口代理转发组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-security">Spring Security封装组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-oauth">Spring OAuth2封装组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-mongo-client-settings">Spring Mongo配置参数扩展组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/components/api-boot-mybatis-enhance">MyBatis增强扩展封装组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-mybatis-enhance-codegen">MyBatis增强扩展代码生成插件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-mybatis-pageable">MyBatis自动分页组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-datasource-switch">DataBase多数据源自动切换组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-logging">分布式链路日志组件（客户端）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-logging-admin">分布式链路日志组件（服务端）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-logging-admin-ui">分布式链路日志组件（管理端）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-sequence">分布式ID生成组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-rate-limiter">分布式请求流量限制封装组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-quartz">Quartz封装组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-swagger">Swagger封装组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-message-push">APP消息推送（极光）开发组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-aliyun-oss">阿里云对象存储（OSS）开发组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-aliyun-sms">阿里云国际短信（SMS）开发组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/api-boot-aliyun-mail">阿里云邮件（Mail）开发组件</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/组件库"><span itemprop="name">组件库</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MyBatis增强扩展封装组件</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>持久化框架 Mybatis Enhance</h1><p><code>ApiBoot Mybatis Enhance</code>是一款<code>数据持久化</code>、<code>动态查询结构化</code>框架，用户操作单表、多表关联的数据，在<code>Mybatis</code>的基础上进行封装扩展，
不影响任何原生的使用，使用后完全替代<code>mybatis-core</code>、<code>mybatis-spring</code>以及<code>mybatis-spring-boot-starter</code>，使用<code>SpringBoot配置文件</code>方式代替传统代码配置，减少繁琐代码编写。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-特性">1. 特性<a class="hash-link" href="#1-特性" title="标题的直接链接">​</a></h2><p><code>ApiBoot Mybatis Enhance</code>总结了目前主流框架的使用风格，对开发者来说使用不便的地方进行封装扩展，让数据操作更艺术。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="特性一提供增强方法">特性一、提供增强方法<a class="hash-link" href="#特性一提供增强方法" title="标题的直接链接">​</a></h3><p><code>ApiBoot Mybatis Enhance</code>内部提供了常用的方法实现，可以快速对单条、多条数据进行<code>CRUD</code>常规操作。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="特性二dsl">特性二、DSL<a class="hash-link" href="#特性二dsl" title="标题的直接链接">​</a></h3><p><code>ApiBoot Mybatis Enhance</code>提供动态查询方式，可以动态查询单表、多表关联指定的列值或者整条数据，可以将结果映射成你想要的类型。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="特性三方法规则查询">特性三、方法规则查询<a class="hash-link" href="#特性三方法规则查询" title="标题的直接链接">​</a></h3><p><code>ApiBoot Mybatis Enhance</code>提供方法规则查询，在对应数据接口<code>Mapper</code>内，遵循一定规则可以完成对数据的查询、统计、删除等。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-愿景">2. 愿景<a class="hash-link" href="#2-愿景" title="标题的直接链接">​</a></h2><p><code>ApiBoot Mybatis Enhance</code>致力于解决简单、快速操作数据问题，省去繁琐<code>SQL</code>的编写，让开发人员更专注业务编写。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-开始使用">3. 开始使用<a class="hash-link" href="#3-开始使用" title="标题的直接链接">​</a></h2><p>在项目的<code>pom.xml</code>文件内添加如下依赖：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">&lt;!--ApiBoot Mybatis Enhance--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">dependency</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">groupId</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain">org.minbox.framework</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">groupId</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">artifactId</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain">api-boot-starter-mybatis-enhance</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">artifactId</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">dependency</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>注意：如果未添加<code>ApiBoot</code>版本依赖，请访问<a href="/docs/out-box/version-rely">版本依赖</a>查看添加方式。</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-定义数据实体">4. 定义数据实体<a class="hash-link" href="#4-定义数据实体" title="标题的直接链接">​</a></h2><p><code>Enhance</code>所需要的数据实体很简单，只需要告知<code>Enhance</code>所需要的表信息以及列信息即可（实际在开发过程中编写数据实体是一件很繁琐的事情，因此<code>ApiBoot</code>为<code>Enhance</code>编写了专属的代码生成插件，访问<a href="/docs/components/api-boot-mybatis-enhance-codegen">Enhance Codegen</a>查看具体使用方式）
利用<code>Enhance Codegen</code>自动生成的数据实体类如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockTitle_Ktv7">UserInfo.java</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * 用户基本信息</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * @author ApiBoot Mybatis Enhance Codegen</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token annotation punctuation" style="color:#8dc891">@Data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token annotation punctuation" style="color:#8dc891">@Table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;iot_user_info&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 用户主键</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Id</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">generatorType </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">KeyGeneratorTypeEnum</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token constant" style="color:#5a9bcf">UUID</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;UI_ID&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 用户编号</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;UI_USER_NO&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> userNo</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 用户名</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;UI_USER_NAME&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> userName</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 年龄</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;UI_AGE&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token plain"> age</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 性别，boy：男,girl：女,other：其他</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;UI_SEX&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> sex </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;other&quot;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 创建时间</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;UI_CREATE_TIME&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain">insertable </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">false</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Timestamp</span><span class="token plain"> createTime</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 1：正常，0：禁用，-1：删除</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;UI_STATUS&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token plain"> status </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 备注信息</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;UI_MARK&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> mark</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在上面的数据实体类内我们都是使用的注解形式来完成的配置，简单介绍下注解的作用</p><ul><li><code>@Data</code>：<code>Lombok</code>内部的注解，如果没有了解过该插件可以访问恒宇少年的文章<a href="https://blog.yuqiyu.com/spring-boot-chapter29.html" target="_blank" rel="noopener noreferrer">第二十九章：基于SpringBoot平台使用Lombok来优雅的编码</a>查看具体使用方法。</li><li><code>@Table</code>：<code>Enhance</code>内部注解，用于标注该数据实体所使用的<code>表信息</code></li><li><code>@Id</code>：<code>Enhance</code>内部注解，用户标注主键字段</li><li><code>@Column</code>：<code>Enhance</code>内部注解，用于标注字段对应的<code>列信息</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-了解enhancemapper接口">5. 了解EnhanceMapper接口<a class="hash-link" href="#5-了解enhancemapper接口" title="标题的直接链接">​</a></h2><p><code>Enhance</code>所管理的<code>Mybatis Mapper</code>以及内置的<code>CRUD</code>操作单表数据的接口方法都是由<code>EnhanceMapper</code>接口来完成的。</p><p><code>ApiBoot Mybatis Enhance</code>在项目启动时会自动加载<code>EnhanceMapper</code>的所有子类进行数据操作方法实现并交付给<code>Spring IOC</code>进行托管，为每一个方法
都提供对应的<code>Statement</code>以及<code>SqlSource</code>的实现，而<code>StatementID</code>则是<code>Mapper</code>类的全限定名。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-enhancemapper提供的方法列表">5.1 EnhanceMapper提供的方法列表<a class="hash-link" href="#51-enhancemapper提供的方法列表" title="标题的直接链接">​</a></h3><p>在<code>EnhanceMapper</code>接口内提供的数据操作方法，如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockTitle_Ktv7">EnhanceMapper.java</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 统计数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">Long</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">countAll</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 清空数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">deleteAll</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据主键数组删除指定数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">deleteArray</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Id</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain"> ids</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据自定义sql删除数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">deleteBySql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> sql</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Map</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">String</span><span class="token generics punctuation" style="color:#8dc891">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:#FAC863">Object</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据主键集合删除指定数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">deleteCollection</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Collection</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">Id</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> collection</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 删除一条数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">deleteOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Id</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 数据保存</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">T</span><span class="token plain"> t</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 保存数组内的所有数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">insertArray</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">T</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain"> array</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 保存集合内的所有数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">insertCollection</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Collection</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">T</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> collection</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 查询全部数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">T</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">selectAll</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据主键数组查询指定数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">T</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">selectArray</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Id</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain"> ids</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 分页查询数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">T</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">selectByPageable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Pageable</span><span class="token plain"> pageable</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 自定义sql查询数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">Map</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">selectBySql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> sql</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Map</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">String</span><span class="token generics punctuation" style="color:#8dc891">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:#FAC863">Object</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据主键集合查询指定数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">T</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">selectCollection</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Collection</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">Id</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> ids</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据主键查询单条数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">T</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">selectOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Id</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据主键更新数据实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">update</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">T</span><span class="token plain"> t</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 自定义sql更新数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">updateBySql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> sql</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Map</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">String</span><span class="token generics punctuation" style="color:#8dc891">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:#FAC863">Object</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">throws</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceFrameworkException</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-使用enhancemapper">5.2 使用EnhanceMapper<a class="hash-link" href="#52-使用enhancemapper" title="标题的直接链接">​</a></h3><p>针对上面的<code>UserInfo</code>数据实体，对应的<code>Mapper</code>接口定义如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockTitle_Ktv7">UserMapper.java</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * 用户数据接口</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * @author：恒宇少年 - 于起宇</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * &lt;p&gt;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * DateTime：2019-05-23 17:02</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * Blog：https://blog.yuqiyu.com</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * WebSite：http://www.jianshu.com/u/092df3f77bca</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * Gitee：https://gitee.com/hengboy</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * GitHub：https://github.com/hengboy</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">UserMapper</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceMapper</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">UserInfo</span><span class="token generics punctuation" style="color:#8dc891">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:#FAC863">String</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在上面<code>UserMapper</code>拥有了<code>EnhanceMapper</code>的全部接口方法并且每一个方法都已经实现了对应的<code>Statement</code>，而且<code>UserMapper</code>已经被<code>Spring IOC</code>托管，我们在实体类内可以直接通过<code>注入</code>方法来调用使用。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-保存数据">6. 保存数据<a class="hash-link" href="#6-保存数据" title="标题的直接链接">​</a></h2><p><code>EnhanceMapper</code>所提供的<code>insert</code>方法参数为数据对象实例，添加一条数据如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockTitle_Ktv7">UserService.java</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token annotation punctuation" style="color:#8dc891">@Service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token annotation punctuation" style="color:#8dc891">@Transactional</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">rollbackFor </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Exception</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">UserService</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 用户基本信息数据接口</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Autowired</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">UserMapper</span><span class="token plain"> userMapper</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 保存用户信息</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">saveUser</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 创建用户基本信息对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token plain"> userInfo </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 设置用户编号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        userInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">setUserNo</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;2019xxxx&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 设置用户年龄</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        userInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">setAge</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">24</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 执行数据保存</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        userMapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">userInfo</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>通过上面<code>saveUser</code>就可以执行保存一条用户基本信息，在上面保存数据方法中并未设置主键的值，下面详细介绍<code>Enhance</code>内提供的几种主键生成策略。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-自增主键">6.1 自增主键<a class="hash-link" href="#61-自增主键" title="标题的直接链接">​</a></h3><p><code>Enhance</code>支持自增类型的主键，可以将本次添加数据的自增主键值查询并设置到保存对象配置<code>@Id</code>注解的字段内，配置使用如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">* 用户主键</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token annotation punctuation" style="color:#8dc891">@Id</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">generatorType </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">KeyGeneratorTypeEnum</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token constant" style="color:#5a9bcf">AUTO</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;UI_ID&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token plain"> userId</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-uuid主键">6.2 UUID主键<a class="hash-link" href="#62-uuid主键" title="标题的直接链接">​</a></h3><p>如果主键使用<code>UUID</code>方式进行存储，<code>Enhance</code>同样是支持配置，如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">* 用户主键</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token annotation punctuation" style="color:#8dc891">@Id</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">generatorType </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">KeyGeneratorTypeEnum</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token constant" style="color:#5a9bcf">UUID</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;UI_ID&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>注意：数据库设置主键字段长度时，<code>UUID</code>生成的长度为<code>36</code>位，包含<code>-</code>。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="63-自定义主键">6.3 自定义主键<a class="hash-link" href="#63-自定义主键" title="标题的直接链接">​</a></h3><p>除了自增、UUID方式的主键以外，还支持<code>自定义主键</code>的方式，比如用户编号：<code>2019xxxxx</code>，如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">* 用户主键</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token annotation punctuation" style="color:#8dc891">@Id</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">generatorType </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">KeyGeneratorTypeEnum</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token constant" style="color:#5a9bcf">DIY</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;UI_ID&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-查询数据">7. 查询数据<a class="hash-link" href="#7-查询数据" title="标题的直接链接">​</a></h2><p><code>EnhanceMapper</code>提供了多种查询方法，其中包含<code>主键查询</code>、<code>根据主键的集合查询</code>、<code>分页查询</code>等，下面详细介绍具体的使用方法。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="71-根据主键查询单条记录">7.1 根据主键查询单条记录<a class="hash-link" href="#71-根据主键查询单条记录" title="标题的直接链接">​</a></h3><p><code>Enhance</code>支持三种根据主键查询的方法，如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 查询单条记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token plain"> user </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> mapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;test&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据主键数组查询多条记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">UserInfo</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> userArray </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> mapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectArray</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;test&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;admin&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据主键集合查询多条记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">UserInfo</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> userCollection </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> mapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectCollection</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Arrays</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">asList</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;test&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;admin&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>其中<code>selectArray</code>、<code>selectCollection</code>两个方法是根据传递的多个主键进行查询出对应多条记录。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="72-查询记录列表">7.2 查询记录列表<a class="hash-link" href="#72-查询记录列表" title="标题的直接链接">​</a></h3><p><code>Enhance</code>支持查询表内的全部数据、分页查询数据，如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 查询全部数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">UserInfo</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> users </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> mapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectAll</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 分页查询数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">UserInfo</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> pageUsers </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> mapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectByPageable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Pageable</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">builder</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">limit</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">10</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">currentPage</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">build</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>EnhanceMapper</code>接口提供的<code>查询记录列表</code>的方法，有一定的局限性，目前并不支持添加查询条件进行筛选数据，不过<code>ApiBoot Enhance</code>提供了<code>DSL</code>方式进行查询数据，具体使用方法请参考本章节下面的文档内容。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-更新数据">8. 更新数据<a class="hash-link" href="#8-更新数据" title="标题的直接链接">​</a></h2><p><code>EnhanceMapper</code>提供更新单个对象的方法，具体使用方法如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token plain"> userInfo </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">userInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">setId</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;test&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">userInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">setAge</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">20</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">userInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">setUserName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;测试用户&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">mapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">update</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">userInfo</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>更新数据时，不设置值得字段会自动将表内数据更新为null，如果你只想更新某一个字段，可以使用如下两种形式。</strong></p><ul><li><code>查询后更新</code></li></ul><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 根据主键查询记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token plain"> userInfo </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> mapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;test&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 更新查询出记录的年龄</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">userInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">setAge</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">24</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 更新查询出记录的名称</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">userInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">setUserName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;测试用户&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 执行更新记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">mapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">update</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">userInfo</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>update</code>方法调用时，参数对象的主键必须设置值，更新时自动根据主键进行设置。</p><ul><li><code>动态更新</code></li></ul></blockquote><p>详见本章动态更新文档，支持根据<code>主键</code>、<code>自定义条件</code>进行筛选定位更新的记录。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="9-删除数据">9. 删除数据<a class="hash-link" href="#9-删除数据" title="标题的直接链接">​</a></h2><p><code>EnhanceMapper</code>提供的删除方法都是<code>物理删除</code>，会从表内直接将匹配数据删除，<code>EnhanceMapper</code>提供的删除方法如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 根据主键删除单条数据记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">mapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">deleteOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据主键数组删除多条对应数据记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">mapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">deleteArray</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">4</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据主键集合删除多条对应数据记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">mapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">deleteCollection</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Arrays</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">asList</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">4</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 删除全部记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">mapper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">deleteAll</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果你的业务需求是<code>业务逻辑删除</code>，只更新某一个状态字段的值时，可以考虑使用<code>动态更新</code>，详见下面文档。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="10-动态查询">10. 动态查询<a class="hash-link" href="#10-动态查询" title="标题的直接链接">​</a></h2><p><code>ApiBoot Enhance</code>的动态查询可以做很多事情，我们可以对<code>单表数据</code>、<code>多表数据</code>进行查询操作，可以使用某一个<code>数据对象</code>作为查询的返回值映射，也可以<code>自定义DTO</code>、<code>基本数据类型</code>来作为查询方法的返回值，每一个查询的查询条件
都可以做到完全自定义，实现一行代码完成对数据的查询。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="101-生成动态查询实体">10.1 生成动态查询实体<a class="hash-link" href="#101-生成动态查询实体" title="标题的直接链接">​</a></h3><p>在通过<code>ApiBoot Enhance</code>动态操作数据之前需要对应每一张表创建一个<code>动态实体</code>，<code>ApiBoot</code>提供了对应每一张表自动生成<code>数据实体</code>、<code>动态实体</code>的<code>maven plugin</code>，访问<a target="_blank" href="/docs/components/api-boot-mybatis-enhance-codegen">ApiBoot Enhance Codegen</a>查看具体使用方式。
下面是一个<code>动态实体</code>示例，通过<code>ApiBoot Enhance Codegen</code>自动生成，对应数据库内<code>user_info</code>表结构。</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * 用户基本信息</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * @author ApiBoot Mybatis Enhance Codegen</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DUserInfo</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">TableExpression</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">UserInfo</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DUserInfo</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> root</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">root</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">static</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DUserInfo</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DUserInfo</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;user_info&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 用户主键</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token plain"> id </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;UI_ID&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 用户编号</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token plain"> userNo </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;UI_USER_NO&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 用户名</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token plain"> userName </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;UI_USER_NAME&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 年龄</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token plain"> age </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;UI_AGE&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 性别，boy：男,girl：女,other：其他</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token plain"> sex </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;UI_SEX&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 创建时间</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token plain"> createTime </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;UI_CREATE_TIME&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 1：正常，0：禁用，-1：删除</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token plain"> status </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;UI_STATUS&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 备注信息</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token plain"> mark </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;UI_MARK&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">this</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">getColumns</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnExpression</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain">id</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> userNo</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> userName</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> age</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> sex</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> createTime</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> status</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> mark</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="102-单表查询">10.2 单表查询<a class="hash-link" href="#102-单表查询" title="标题的直接链接">​</a></h3><p>下面从<code>查询单表</code>内的数据开始一一拆分讲解。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1021-主键方式查询">10.2.1 主键方式查询<a class="hash-link" href="#1021-主键方式查询" title="标题的直接链接">​</a></h4><p>我们了解了<code>EnhanceMapper</code>接口所提供了根据主键查询的<code>selectOne</code>方法，这两种方式最终的效果是一样的，<code>动态方式</code>的主键查询如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 实例化动态查询实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DUserInfo</span><span class="token plain"> dUserInfo </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DUserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 从DUserInfo动态实体对应的数据表内查询主键为1的记录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token plain"> user </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectFrom</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dUserInfo</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dUserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">id</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// 查询的返回值类型是UserInfo数据实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// 查询单条数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetchOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1022-非主键方式查询">10.2.2 非主键方式查询<a class="hash-link" href="#1022-非主键方式查询" title="标题的直接链接">​</a></h4><p>通过动态方式查询，可以根据<code>动态实体</code>内的<code>任意一个</code>、或者<code>多个</code>字段作为查询条件，如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 实例化动态查询实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DUserInfo</span><span class="token plain"> dUserInfo </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DUserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据userNo字段查询数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token plain"> user </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectFrom</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dUserInfo</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dUserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">userNo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;2019xxx&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetchOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1023-多条件组合查询">10.2.3 多条件组合查询<a class="hash-link" href="#1023-多条件组合查询" title="标题的直接链接">​</a></h4><p>一个查询的<code>查询条件</code>可以有很多个，使用动态查询可以完成<code>and</code>、<code>or</code>的条件关联，模拟需求查询用户编号为<code>2019xxx</code>并且<code>大于20岁</code>的<code>男孩</code>指定某一个用户，如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 实例化动态查询实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DUserInfo</span><span class="token plain"> dUserInfo </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DUserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据userNo字段查询数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token plain"> userInfo </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectFrom</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dUserInfo</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// where userNo = 2019xxx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dUserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">userNo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;2019xxx&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// and sex = boy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">and</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dUserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">sex</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;boy&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// and age &gt; 20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">and</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dUserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">age</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">gt</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">20</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetchOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面动态查询对应生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">-- 生成的SQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Preparing: </span><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_ID</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_USER_NO</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_USER_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_AGE</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_SEX</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_CREATE_TIME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_STATUS</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_MARK</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_user_info</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_USER_NO </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ? </span><span class="token operator" style="color:#d7deea">AND</span><span class="token plain"> iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_SEX </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ? </span><span class="token operator" style="color:#d7deea">AND</span><span class="token plain"> iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_AGE </span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">-- 参数列表</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Parameters: </span><span class="token number" style="color:#5a9bcf">2019</span><span class="token plain">xxx</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">String</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> boy</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">String</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">20</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">Integer</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>下面我们模拟需求<code>查询25岁以下用户</code> 或 <code>性别为女孩</code>的用户列表，动态查询如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 实例化动态查询实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DUserInfo</span><span class="token plain"> dUserInfo </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DUserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 根据userNo字段查询数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">UserInfo</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> users </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectFrom</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dUserInfo</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// sex = girl</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dUserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">sex</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;girl&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// or age &lt; 25</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">or</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dUserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">age</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">lt</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">25</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">UserInfo</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetch</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面动态查询对应生成的<code>SQL</code>如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">-- 生成的SQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Preparing: </span><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_ID</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_USER_NO</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_USER_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_AGE</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_SEX</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_CREATE_TIME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_STATUS</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_MARK</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_user_info</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_SEX </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">   </span><span class="token operator" style="color:#d7deea">OR</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_user_info</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">UI_AGE </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">-- 参数列表</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Parameters: girl</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">String</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">25</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">Integer</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="103-多表关联查询">10.3 多表关联查询<a class="hash-link" href="#103-多表关联查询" title="标题的直接链接">​</a></h3><p><code>ApiBoot Enhance</code>支持<code>leftJoin</code>、<code>rightJoin</code>、<code>innerJoin</code>三种关联方式查询，这三种关联查询的使用方式一致，下面我们来看下多表关联的<code>leftJoin</code>实现方式：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 系统用户动态实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 系统用户角色关联动态实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUserRole</span><span class="token plain"> dSystemUserRole </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUserRole</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 执行查询并且返回SystemUser类型对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">UserInfo</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> users </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectFrom</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">leftJoin</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">id</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> dSystemUserRole</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">userId</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUserRole</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">roleId</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;367c8078-a1f1-11e9-9b7e-3417eb9c0f80&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">and</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">SystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetch</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在上面查询定义中，我们查询用户角色为<code>367c8078-a1f1-11e9-9b7e-3417eb9c0f80</code>的用户列表，并且用户的状态为<code>1</code>，在<code>leftJoin</code>方法内有两个动态实体的字段，这两个字段则是在表内存在<code>主外键关系</code>的（当然不存在主外键关系我们也可以进行关联查询）。</p><p><code>leftJoin</code>方法参数分别代表了主外键的字段配置，具体配置内容如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 可以配置多个leftJoin进行关联多表查询</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token function" style="color:#79b6f2">leftJoin</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">主表</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">主键</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain">从表</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">外键</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面查询代码对应生成<code>SQL</code>如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_ID</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_USER_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_NICK_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_PASSWORD</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_CREATE_TIME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_MARK </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_system_user </span><span class="token keyword" style="color:#c5a5c5">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">OUTER</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">JOIN</span><span class="token plain"> iot_system_user_role </span><span class="token keyword" style="color:#c5a5c5">on</span><span class="token plain"> iot_system_user_role</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SUR_USER_ID </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_ID </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user_role</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SUR_ROLE_ID </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ? </span><span class="token operator" style="color:#d7deea">AND</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="104-自定义返回类型">10.4 自定义返回类型<a class="hash-link" href="#104-自定义返回类型" title="标题的直接链接">​</a></h3><p>有时我们在进行关联或者单表查询时，只需要获取其中的某一个、多个字段，这时我们就可以通过<code>resultType</code>方法来定义返回的类型，如果是基本数据类型的封装类型（如：<code>Integer</code>、<code>Long</code>等）可以直接返回，如果查询结果是非单列数值时，我们可以<code>自定义返回类型</code>来进行<code>查询结果映射</code>，简单示例如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * 自定义系统用户数据转换实体</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * @author：恒宇少年 - 于起宇</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * &lt;p&gt;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * DateTime：2019-07-10 09:08</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * Blog：https://blog.yuqiyu.com</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * WebSite：http://www.jianshu.com/u/092df3f77bca</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * Gitee：https://gitee.com/hengboy</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> * GitHub：https://github.com/hengboy</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token annotation punctuation" style="color:#8dc891">@Data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SystemUserDTO</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 主键</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;SU_ID&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 用户名</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;SU_USER_NAME&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> userName</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 用户昵称</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#8dc891">@Column</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;SU_NICK_NAME&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">private</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> nickName</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面是我们定义的数据转换实体，用于接收查询数据表内的<code>多个字段</code>，查询代码如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 系统用户动态查询实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">UserInfo</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> users </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 只查询id、userName、nickName对应的列值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">select</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">id</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">userName</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">nickName</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// from table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">from</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 自定义实体类类型定义</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">SystemUserDTO</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetch</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面查询代码对应生成的<code>SQL</code>如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_ID</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_USER_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_NICK_NAME </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_system_user </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="105-列值匹配实体类字段">10.5 列值匹配实体类字段<a class="hash-link" href="#105-列值匹配实体类字段" title="标题的直接链接">​</a></h3><p><code>ApiBoot Enhance</code>在查询时，查询结果集的<code>列值</code>与实体类内的<code>字段值</code>对应关系是通过<code>@Column</code>注解的<code>name</code>属性来定的，如果查询结果集内的<code>列名</code>与实体类的<code>字段名</code><strong>一致</strong>，那么<code>@Column</code>注解可以不配置，如果不一致需要在<code>实体类字段上</code>配置<code>@Column(name=&#x27;列名&#x27;)</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="106-组装动态对象">10.6 组装动态对象<a class="hash-link" href="#106-组装动态对象" title="标题的直接链接">​</a></h3><p><code>ApiBoot Enhance</code>支持动态组装查询对象<code>Searchable</code>，当我们根据业务逻辑进行判断时可以动态组装查询条件、关联表、返回值、查询字段等，简单示例如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">SystemUser</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">assembleQuery</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">boolean</span><span class="token plain"> isJoin</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// 系统用户动态查询对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// 创建Searchable查询对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Searchable</span><span class="token plain"> searchable </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectFrom</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// 根据参数组装关联查询</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">isJoin</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 系统用户角色关联查询对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token class-name" style="color:#FAC863">DSystemUserRole</span><span class="token plain"> dSystemUserRole </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUserRole</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        searchable</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">leftJoin</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">id</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> dSystemUserRole</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">userId</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// 设置返回值类型 &amp; 查询数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> searchable</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">SystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetch</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面查询代码中只是根据参数组装了<code>leftJoin</code>关联表，<code>ApiBoot Enhance</code>的组装动态查询还待开发者挖掘。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="107-count函数使用">10.7 Count函数使用<a class="hash-link" href="#107-count函数使用" title="标题的直接链接">​</a></h3><p><code>ApiBoot Enhance</code>的动态查询不仅仅可以做<code>数据查询</code>，也可以做<code>数据统计</code>，使用<strong>count</strong>函数以及查询条件就可以实现复杂的数据统计功能，示例如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 系统用户动态查询实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// 系统用户角色动态查询实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUserRole</span><span class="token plain"> dSystemUserRole </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUserRole</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">Long</span><span class="token plain"> count </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 建议使用主键统计，主键索引效率会有显著提升</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">count</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">from</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">leftJoin</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">id</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> dSystemUserRole</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">userId</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 统计的结果类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Long</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询单个结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetchOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>数据统计</code>的查询条件跟<code>数据查询</code>完全一致，可以进行单表、多表关联、组装查询条件等。
上面<code>数据统计</code>动态查询生成的<code>SQL</code>如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">count</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_ID</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> SU_ID </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_system_user </span><span class="token keyword" style="color:#c5a5c5">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">OUTER</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">JOIN</span><span class="token plain"> iot_system_user_role </span><span class="token keyword" style="color:#c5a5c5">on</span><span class="token plain"> iot_system_user_role</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SUR_USER_ID </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_ID </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="108-avg函数使用">10.8 Avg函数使用<a class="hash-link" href="#108-avg函数使用" title="标题的直接链接">​</a></h3><p><code>ApiBoot Enhance</code>还支持针对某一个字段的<code>平均值</code>查询，使用<strong>avg</strong>函数以及查询条件可以实现复杂的平均值计算，示例如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 系统用户动态查询实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token plain"> avgAge </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询用户年龄平均值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">avg</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">age</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">from</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 用户状态为1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 返回值类型为Integer，根据age对应表内字段而定</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询单个结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetchOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面动态查询生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">avg</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_AGE</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> SU_AGE </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_system_user </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="109-sum函数使用">10.9 Sum函数使用<a class="hash-link" href="#109-sum函数使用" title="标题的直接链接">​</a></h3><p><code>ApiBoot Enhance</code>支持针对某一个字段的<code>总和</code>查询，使用<strong>sum</strong>函数以及查询条件可以实现复杂的总和计算，示例如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 系统用户动态查询实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">Long</span><span class="token plain"> sum </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询用户年龄总和</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">sum</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">age</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">from</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 用户状态为1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 返回值类型为Integer，根据age对应表内字段而定</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Long</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询单个结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetchOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面动态查询生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">sum</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_AGE</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> SU_AGE </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_system_user </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1010-min函数使用">10.10 Min函数使用<a class="hash-link" href="#1010-min函数使用" title="标题的直接链接">​</a></h3><p><code>ApiBoot Enhance</code>支持针对某一个字段的<code>最小值</code>查询，使用<strong>min</strong>函数以及查询条件可以实现复杂查询指定字段的最小值计算，示例如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 系统用户动态查询实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token plain"> min </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询最小年龄的用户</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">min</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">age</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">from</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 用户状态为1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 返回值类型为Integer，根据age对应表内字段而定</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询单个结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetchOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面动态查询生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">min</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_AGE</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> SU_AGE </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_system_user </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1011-max函数使用">10.11 Max函数使用<a class="hash-link" href="#1011-max函数使用" title="标题的直接链接">​</a></h3><p><code>ApiBoot Enhance</code>支持针对某一个字段的<code>最大值</code>查询，使用<strong>max</strong>函数以及查询条件可以实现指定字段复杂查询的最大值计算，示例如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 系统用户动态查询实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token plain"> max </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询最大年龄的用户</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">max</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">age</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">from</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 用户状态为1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 返回值类型为Integer，根据age对应表内字段而定</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询单个结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetchOne</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面动态查询生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">max</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_AGE</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> SU_AGE </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_system_user </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="11-动态更新">11. 动态更新<a class="hash-link" href="#11-动态更新" title="标题的直接链接">​</a></h2><p><code>EnhanceMapper</code>接口内提供了<code>update</code>方法可以更新整个对象，如果我们只更新其中某一个、多个字段时<code>update</code>方法无法满足我们的需求，而<code>ApiBoot Enhance DSL</code>的动态更新可以完成这一需求，示例如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 系统用户动态实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createUpdateable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 需要更新的表对应的动态实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">update</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 更新age对应列值 = 25</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">set</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">SetFilter</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">set</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">age</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">25</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 更新mark对应列值 = 备注信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">set</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">SetFilter</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">set</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">mark</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;备注信息&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 指定更新用户</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">id</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;58eea57e-a1f1-11e9-9b7e-3417eb9c0f80&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 执行更新</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面动态更新语句对应生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">-- sql</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Preparing: </span><span class="token keyword" style="color:#c5a5c5">UPDATE</span><span class="token plain"> iot_system_user </span><span class="token keyword" style="color:#c5a5c5">SET</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_AGE </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ? </span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_MARK </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ? </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_ID </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">-- 参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Parameters: </span><span class="token number" style="color:#5a9bcf">25</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">Integer</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> 备注信息</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">String</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">58</span><span class="token plain">eea57e</span><span class="token operator" style="color:#d7deea">-</span><span class="token plain">a1f1</span><span class="token operator" style="color:#d7deea">-</span><span class="token number" style="color:#5a9bcf">11</span><span class="token plain">e9</span><span class="token operator" style="color:#d7deea">-</span><span class="token number" style="color:#5a9bcf">9</span><span class="token plain">b7e</span><span class="token operator" style="color:#d7deea">-</span><span class="token number" style="color:#5a9bcf">3417</span><span class="token plain">eb9c0f80</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">String</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="12-动态删除">12. 动态删除<a class="hash-link" href="#12-动态删除" title="标题的直接链接">​</a></h2><p><code>EnhanceMapper</code>接口提供的<code>delete</code>方法只可以根据主键操作数据，我们通过<code>ApiBoot Enhnace DSL</code>可以完成指定条件筛选删除，示例如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 系统用户动态实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createDeleteable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 删除动态实体对应表内的数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">delete</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// status对应列值 = 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// age对应列值 &gt; 25</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">and</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">age</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">gt</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">25</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 执行删除</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上面动态删除语句对应生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">-- sql</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Preparing: </span><span class="token keyword" style="color:#c5a5c5">DELETE</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_system_user </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ? </span><span class="token operator" style="color:#d7deea">AND</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_AGE </span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">-- 参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Parameters: </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">Integer</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">25</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">Integer</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="13-排序">13. 排序<a class="hash-link" href="#13-排序" title="标题的直接链接">​</a></h2><p><code>ApiBoot Enhance</code>动态查询支持根据<code>查询字段</code>进行<code>正序</code>、<code>倒序</code>两种方式进行排序，如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 系统用户动态实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">SystemUser</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> users </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectFrom</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询status字段对应列值 = 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 根据age字段对应列值，正序排序，年龄从小到大排序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">orderBy</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">age</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SortEnum</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token constant" style="color:#5a9bcf">ASC</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">SystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetch</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>SortEnum</code>是一个排序的枚举，参考值如下所示：</p><ul><li><code>ASC</code>：正序</li><li><code>DESC</code>：倒序</li></ul><p>上面动态查询排序语句对应生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_ID</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_USER_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_NICK_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_AGE</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_PASSWORD</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_CREATE_TIME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_MARK </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_system_user </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">BY</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_AGE </span><span class="token keyword" style="color:#c5a5c5">ASC</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="14-分页">14. 分页<a class="hash-link" href="#14-分页" title="标题的直接链接">​</a></h2><p><code>ApiBoot Enhance</code> 在使用<code>动态查询</code>时可以对<code>结果集</code>进行<code>分页</code>，简单示例如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 系统用户动态实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">SystemUser</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> users </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">selectFrom</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询status字段对应列值 = 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 根据age字段对应列值，正序排序，年龄从小到大排序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">orderBy</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">age</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SortEnum</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token constant" style="color:#5a9bcf">ASC</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 分页的开始位置，0是第一条</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">offset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 每页查询20条</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">limit</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">20</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">SystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetch</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>上面动态查询系统用户表内<code>status=1</code>的用户列表，并且根据<code>age</code>字段进行<code>ASC</code>方式排序，查询出<code>0-20</code>条数据。</p></blockquote><p><code>ApiBoot Enhance</code>的动态分页提供了两个函数，分别是：<code>offset</code>、<code>limit</code>。</p><ul><li><code>offset()</code>：分页开始位置，从0开始</li><li><code>limit()</code>：每页查询记录数量</li></ul><p>上面分页动态查询对应生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">-- sql</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Preparing: </span><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_ID</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_USER_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_NICK_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_AGE</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_PASSWORD</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_CREATE_TIME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_MARK </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_system_user </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">BY</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_AGE </span><span class="token keyword" style="color:#c5a5c5">ASC</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">limit</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain">?</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">-- 参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Parameters: </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">Integer</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">Integer</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">20</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">Integer</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="15-分组">15. 分组<a class="hash-link" href="#15-分组" title="标题的直接链接">​</a></h2><p><code>ApiBoot Enhance</code>支持对指定字段查询分组，示例如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// 系统用户动态实体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token plain"> dSystemUser </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DSL</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">SystemUser</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> users </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> dslFactory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createSearchable</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询分组的字段</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 最小年龄</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">select</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">userName</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">age</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">min</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">from</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 查询status字段对应列值 = 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">where</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// 根据userName字段对应的列分组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">groupBy</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dSystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">userName</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">resultType</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">SystemUser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">fetch</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>在上面动态查询中，根据<code>userName</code>对应的列值进行分组。</p></blockquote><p>上面分页动态查询对应生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">-- sql</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Preparing: </span><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_USER_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">min</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_AGE</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> SU_AGE </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> iot_system_user </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">BY</span><span class="token plain"> iot_system_user</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SU_USER_NAME</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">-- 参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Parameters: </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">Integer</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="16-方法规则">16. 方法规则<a class="hash-link" href="#16-方法规则" title="标题的直接链接">​</a></h2><p><code>ApiBoot Enhance</code> 提供的<code>方法规则查询</code>不同于<code>动态查询</code>，并不需要编写过多的代码就可以实现多条件查询单条、多条数据，只需要通过在<code>Mapper</code>接口内根据方法命名的规则来生成对应的<code>SqlSource</code>以及<code>Statement</code>。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="161-正则表达式匹配方法名">16.1 正则表达式匹配方法名<a class="hash-link" href="#161-正则表达式匹配方法名" title="标题的直接链接">​</a></h3><p><code>方法命名规则</code>内部是通过<code>正则表达式</code>进行提取查询的字段。</p><p><strong>查询方法命名规则</strong>前缀为：<strong>findBy</strong>，根据某一个字段查询时可以写成<code>findByXxx</code>，如果根据多个字段则写成<code>findByXxxAndXxx</code>，当然也可以根据<code>Or</code>关键字进行查询，注意完全遵循<code>驼峰命名方式</code>来声明<code>方法的名称</code>，方法的返回值必须是声明方法内<code>Mapper</code>对应<code>数据实体类型</code>，可以是<code>单个对象</code>、也可以是<code>List&lt;对象&gt;</code>。</p><p><strong>删除方法命名规则</strong>前缀为：<strong>removeBy</strong>，根据某一个字段删除数据时可以写成<code>remoteByXxx</code>，如果根据多个字段则可以写成<code>remoteByXxxAndXxx</code>，删除方法没有返回值。</p><p><strong>统计方法命名规则</strong>前缀为：<strong>countBy</strong>，根据主键进行统计数据，根据某一个字段作为查询条件可以成<code>countByXxx</code>，如果根据多个字段则可以写成<code>countByXxxAndXxx</code>，方法返回值为<code>Long</code>类型。</p><blockquote><p>注意：方法命名规则的关联关系可以使用<code>And</code>也可以使用<code>Or</code>，尽量排除两种关系字符存在一个方法名称上。</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="162-规则条件查询数据">16.2 规则条件查询数据<a class="hash-link" href="#162-规则条件查询数据" title="标题的直接链接">​</a></h3><p>通过下面<code>方法命名规则</code>定义的方法来查看<code>ApiBoot Enhance</code>对应给生成的查询语句：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SystemUserMapper</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceMapper</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">SystemUser</span><span class="token generics punctuation" style="color:#8dc891">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:#FAC863">String</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 根据userName查询单条记录</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @param userName</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @return</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">SystemUser</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">findByUserName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token annotation punctuation" style="color:#8dc891">@Param</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;userName&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> userName</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 根据userName and status 查询</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @param userName</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @param userStatus</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @return</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">SystemUser</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">findByUserNameAndStatus</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token annotation punctuation" style="color:#8dc891">@Param</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;userName&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> userName</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:#8dc891">@Param</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;status&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token plain"> userStatus</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 根据status查询多条记录</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @param userStatus</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @return</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">List</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">SystemUser</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">findByStatus</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token annotation punctuation" style="color:#8dc891">@Param</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;status&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token plain"> userStatus</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><code>方法规则查询</code>有局限性，并不如<code>动态查询</code>灵活。</p></blockquote><p>对应上面查询方法生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">-- findByUserName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> SU_ID</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_USER_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_NICK_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_AGE</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_PASSWORD</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_STATUS</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_CREATE_TIME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_MARK </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> IOT_SYSTEM_USER </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> SU_USER_NAME </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">-- findByUserNameAndStatus</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> SU_ID</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_USER_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_NICK_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_AGE</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_PASSWORD</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_STATUS</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_CREATE_TIME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_MARK </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> IOT_SYSTEM_USER </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> SU_USER_NAME </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ? </span><span class="token operator" style="color:#d7deea">AND</span><span class="token plain"> SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">-- findByStatus</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> SU_ID</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_USER_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_NICK_NAME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_AGE</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_PASSWORD</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_STATUS</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_CREATE_TIME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> SU_MARK </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> IOT_SYSTEM_USER </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="163-规则条件统计数据">16.3 规则条件统计数据<a class="hash-link" href="#163-规则条件统计数据" title="标题的直接链接">​</a></h3><p><code>ApiBoot Enhance</code> 提供的方法命名规则统计，默认统计<code>主键列</code>目前无法修改默认方式，方法命名规则统计数据方法名定义方式如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SystemUserMapper</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceMapper</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">SystemUser</span><span class="token generics punctuation" style="color:#8dc891">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:#FAC863">String</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 根据状态统计</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @param status</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @return</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Long</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">countByStatus</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token annotation punctuation" style="color:#8dc891">@Param</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;status&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token plain"> status</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 根据用户名 and 状态统计</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @param userName</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @param userStatus</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @return</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Long</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">countByUserNameAndStatus</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token annotation punctuation" style="color:#8dc891">@Param</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;userName&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> userName</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:#8dc891">@Param</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;status&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token plain"> userStatus</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>对应上面统计方法生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">-- countByStatus</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">COUNT</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">SU_ID</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> IOT_SYSTEM_USER </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">-- countByUserNameAndStatus</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">COUNT</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">SU_ID</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> IOT_SYSTEM_USER </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> SU_USER_NAME </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ? </span><span class="token operator" style="color:#d7deea">AND</span><span class="token plain"> SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="164-规则条件删除数据">16.4 规则条件删除数据<a class="hash-link" href="#164-规则条件删除数据" title="标题的直接链接">​</a></h3><p>方法名称规则删除示例如下所示：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">public</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SystemUserMapper</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">EnhanceMapper</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">SystemUser</span><span class="token generics punctuation" style="color:#8dc891">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:#FAC863">String</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 根据状态删除</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @param status</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">removeByStatus</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token annotation punctuation" style="color:#8dc891">@Param</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;status&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token plain"> status</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/**</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * 根据用户名 and 状态删除</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @param userName</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     * @param userStatus</span><br></span><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">removeByUserNameAndStatus</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token annotation punctuation" style="color:#8dc891">@Param</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;userName&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token plain"> userName</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:#8dc891">@Param</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;status&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Integer</span><span class="token plain"> userStatus</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>对应上面删除方法生成的<code>SQL</code>，如下所示：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">-- removeByStatus</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">DELETE</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> IOT_SYSTEM_USER </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">-- removeByUserNameAndStatus</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">DELETE</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">FROM</span><span class="token plain"> IOT_SYSTEM_USER </span><span class="token keyword" style="color:#c5a5c5">WHERE</span><span class="token plain"> SU_USER_NAME </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ? </span><span class="token operator" style="color:#d7deea">AND</span><span class="token plain"> SU_STATUS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/components/api-boot-mongo-client-settings"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Spring Mongo配置参数扩展组件</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/components/api-boot-mybatis-enhance-codegen"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">MyBatis增强扩展代码生成插件</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-特性" class="table-of-contents__link toc-highlight">1. 特性</a><ul><li><a href="#特性一提供增强方法" class="table-of-contents__link toc-highlight">特性一、提供增强方法</a></li><li><a href="#特性二dsl" class="table-of-contents__link toc-highlight">特性二、DSL</a></li><li><a href="#特性三方法规则查询" class="table-of-contents__link toc-highlight">特性三、方法规则查询</a></li></ul></li><li><a href="#2-愿景" class="table-of-contents__link toc-highlight">2. 愿景</a></li><li><a href="#3-开始使用" class="table-of-contents__link toc-highlight">3. 开始使用</a></li><li><a href="#4-定义数据实体" class="table-of-contents__link toc-highlight">4. 定义数据实体</a></li><li><a href="#5-了解enhancemapper接口" class="table-of-contents__link toc-highlight">5. 了解EnhanceMapper接口</a><ul><li><a href="#51-enhancemapper提供的方法列表" class="table-of-contents__link toc-highlight">5.1 EnhanceMapper提供的方法列表</a></li><li><a href="#52-使用enhancemapper" class="table-of-contents__link toc-highlight">5.2 使用EnhanceMapper</a></li></ul></li><li><a href="#6-保存数据" class="table-of-contents__link toc-highlight">6. 保存数据</a><ul><li><a href="#61-自增主键" class="table-of-contents__link toc-highlight">6.1 自增主键</a></li><li><a href="#62-uuid主键" class="table-of-contents__link toc-highlight">6.2 UUID主键</a></li></ul></li><li><a href="#9-删除数据" class="table-of-contents__link toc-highlight">9. 删除数据</a></li><li><a href="#10-动态查询" class="table-of-contents__link toc-highlight">10. 动态查询</a><ul><li><a href="#101-生成动态查询实体" class="table-of-contents__link toc-highlight">10.1 生成动态查询实体</a></li><li><a href="#102-单表查询" class="table-of-contents__link toc-highlight">10.2 单表查询</a></li><li><a href="#103-多表关联查询" class="table-of-contents__link toc-highlight">10.3 多表关联查询</a></li><li><a href="#104-自定义返回类型" class="table-of-contents__link toc-highlight">10.4 自定义返回类型</a></li><li><a href="#105-列值匹配实体类字段" class="table-of-contents__link toc-highlight">10.5 列值匹配实体类字段</a></li><li><a href="#106-组装动态对象" class="table-of-contents__link toc-highlight">10.6 组装动态对象</a></li><li><a href="#107-count函数使用" class="table-of-contents__link toc-highlight">10.7 Count函数使用</a></li><li><a href="#108-avg函数使用" class="table-of-contents__link toc-highlight">10.8 Avg函数使用</a></li><li><a href="#109-sum函数使用" class="table-of-contents__link toc-highlight">10.9 Sum函数使用</a></li><li><a href="#1010-min函数使用" class="table-of-contents__link toc-highlight">10.10 Min函数使用</a></li><li><a href="#1011-max函数使用" class="table-of-contents__link toc-highlight">10.11 Max函数使用</a></li></ul></li><li><a href="#11-动态更新" class="table-of-contents__link toc-highlight">11. 动态更新</a></li><li><a href="#12-动态删除" class="table-of-contents__link toc-highlight">12. 动态删除</a></li><li><a href="#13-排序" class="table-of-contents__link toc-highlight">13. 排序</a></li><li><a href="#14-分页" class="table-of-contents__link toc-highlight">14. 分页</a></li><li><a href="#15-分组" class="table-of-contents__link toc-highlight">15. 分组</a></li><li><a href="#16-方法规则" class="table-of-contents__link toc-highlight">16. 方法规则</a><ul><li><a href="#161-正则表达式匹配方法名" class="table-of-contents__link toc-highlight">16.1 正则表达式匹配方法名</a></li><li><a href="#162-规则条件查询数据" class="table-of-contents__link toc-highlight">16.2 规则条件查询数据</a></li><li><a href="#163-规则条件统计数据" class="table-of-contents__link toc-highlight">16.3 规则条件统计数据</a></li><li><a href="#164-规则条件删除数据" class="table-of-contents__link toc-highlight">16.4 规则条件删除数据</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档 &amp; 教程</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/out-box/quick-start">使用文档</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">文章教程</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduce/faq">问题反馈</a></li></ul></div><div class="col footer__col"><div class="footer__title">资源</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.minbox.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">作者博客<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/minbox-projects/api-boot" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 ApiBoot, Inc. 恒宇少年.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8323ae22.js"></script>
<script src="/assets/js/main.505abf66.js"></script>
</body>
</html>